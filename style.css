:root{
  --fondo: #C8D9E6;
  --casilla: #cdc9e8;
  --aprobado: #b882af;
  --cursando: #e6e0f2;
  --titulo: #5A496E;
  --letra-ramos: #3B165C;
  --letra-semestre: #395176;
  --borde: #b7c6d4;
  --borde-suave: #d7deea;
}

*{ box-sizing: border-box; }
body{
  margin:0;
  background: var(--fondo);
  color: var(--letra-ramos);
  font-family: "Poppins", "Segoe UI", sans-serif;
}

/* ----- Encabezado ----- */
.topbar{
  position: sticky; top:0; z-index:10;
  display: flex; flex-wrap:wrap; align-items:center; gap:10px;
  background: rgba(255,255,255,.5);
  backdrop-filter: blur(6px);
  border-bottom: 1px solid var(--borde);
  padding: 10px 16px;
}
.title{
  font-size: 1.8rem;
  font-weight: 700;
  color: var(--titulo);
}
.controls{ margin-left:auto; display:flex; gap:8px; flex-wrap:wrap; }
.controls input, .controls select, .btn{
  border:1px solid var(--borde);
  background:white;
  color:var(--letra-ramos);
  padding:8px 10px;
  border-radius:10px;
}
.btn{ cursor:pointer; }
.btn.primary{ background:var(--aprobado); color:white; border-color:transparent; }

/* ----- Leyenda y progreso ----- */
.legend{ padding:10px 16px; color:var(--letra-semestre); display:flex; gap:6px; flex-wrap:wrap; }
.dot{ width:16px; height:16px; border-radius:50%; border:1px solid var(--borde); }
.dot.cursando{ background:var(--cursando); }
.dot.aprobado{ background:var(--aprobado); }
.dot.creditos{ border-radius:6px; background:white; padding:0 5px; font-weight:600; }

.progress{ padding:0 16px 10px; }
.bar{ width:100%; height:10px; background:white; border-radius:999px; border:1px solid var(--borde); overflow:hidden; }
#progressBar{ width:0%; height:100%; background:var(--aprobado); transition:width .3s ease; }
.progress-text{ color:var(--letra-semestre); margin-top:4px; }

/* ----- Malla ----- */
.grid{ display:grid; grid-template-columns:repeat(auto-fit,minmax(260px,1fr)); gap:16px; padding:16px; }
.semester{ background:rgba(255,255,255,.6); border:1px solid var(--borde); border-radius:16px; overflow:hidden; }
.semester-head{ background:#bfcbe0; color:var(--letra-semestre); font-weight:700; padding:10px 12px; border-bottom:1px solid var(--borde); }
.semester-body{ padding:12px; display:grid; gap:10px; }

/* ----- Casillas ----- */
.course{
  background:var(--casilla);
  border:1px solid var(--borde-suave);
  border-radius:12px;
  padding:10px 12px;
  transition:all .2s ease;
}
.course:hover{ transform:scale(1.02); }
.course.aprobado{ background:var(--aprobado); color:white; }
.course.cursando{ background:var(--cursando); }

.course .row{ display:flex; align-items:center; gap:8px; flex-wrap:wrap; }
.course .name{ font-weight:600; flex:1; }
.badge{
  font-size:0.75rem;
  padding:2px 6px;
  background:white;
  border:1px solid var(--borde);
  border-radius:999px;
  color:var(--letra-semestre);
  cursor:pointer;
}
.badge.credits{ background:#fff; color:var(--letra-semestre); }
